<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>VANTAGE Software: README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="AstorTheOcelot.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VANTAGE Software
   &#160;<span id="projectnumber">4.20</span>
   </div>
   <div id="projectbrief">Taking Pictures of CubeSats</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_r_e_a_d_m_e_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_r_e_a_d_m_e_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# VANTAGE</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;## General Comments</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This codebase is based around the test types used for the 2018-2019 development cycle. These included three types:</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;1. Simulation Testing</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;The simulation test was created using a combination of Cinema4D and Blensor, for the purpose of simulation the optical and TOF cameras, respectively. This suite ([VANTAGE_Simulation](https://github.com/vantagecu/VANTAGE_Simulation)) can be found in the [VANTAGE organization](https://github.com/vantagecu) repo. The truth data for this test is generated by the Cinema4D program itself.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;2. Modular Testing</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;The modular test was developed for the purpose of testing the VANTAGE system from 0-10m. This test was performed in the CU RECUV lab, with truth data acquired using a system of VICON cameras.</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;3. 100m Testing</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;The 100m test was developed for the purpose of testing the system across the full 0-100m required range. This test was performed at the Boulder airport, using a test rig based on attaching CubeSats to a car, and acquiring truth data by affixing a GPS Trimble system to the car.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;### Running the Software Suite</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;VANTAGE has a main script for running the entire software suite, as well as test cases for utilizing only the post-processing portion of the code.</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;#### VANTAGE_main.m</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;Running VANTAGE_main executes everything involved in the full system, from transmitting a Manifest.json file to VANTAGE, executing data capture, and performing post-processing. See below for a description of the avionics, communications, and how to configure the first portion of the code for a different avionics setup.</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;#### Post-processing</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;To perform only post-processing on an existing data set, utilize +VANTAGE/+Test/+PostProcessing/Test_Fusion.m . This file utilizes a testing framework to attempt post-processing on a given data set. To configure this test case, modify the configDirecNames in the test case constructor to point to the config directories of the corresponding test types. Additionally modify *testType* to define the type of the three tests that you wish to process. This can be set to any of the cases in the switch statement below.</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;When run, the program will detect the relevant files based on the configuration file, and sequentially process the TOF data, then the optical data. See the UML diagrams in the VANTAGE PFR data package for specifics on the workings of the software algorithms.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;### Data Directory</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;The organization of the data directory (*VANTAGE/Data/*) is crucial for the successful operation of the VANTAGE software suite. The majority of errors that will be encountered when running the suite will be due to incorrectly configured data folders. The data directory is currently configured to handle the three types of tests used in the 2018-2019 development cycle. To ensure the correct configuration of the data:</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;Create a folder *Data/* within the main VANTAGE folder. This is excluded by .git in the .gitignore, so all data to be processed will downloaded and stored individually on your local machine. When the software suite has been fully set up and run, the Data directory will have the following folders:</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;Simulation/</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;truthMats/</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;Results/</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;ErrorOut/</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;ModularTest_4_9/</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;3_25_100m/</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;These should contain the following:</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;#### Simulation/</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;The simulation folder will have subfolders describing the type, date, and speed of the test. An example of this is: *Simulation_4_15_030*, which represents a test taken on April 15, at 0.30m/s. Within each of these subdirectories should be two folders, *Optical/* and *TOF/*. It will also have a *truth.json* file, and a *truth_corrected.json*, which is the truth file VANTAGE will process. In the case of the simulation, optical data should have naming conventions of a prefix *VTube*, and a timestamp suffix. If using the VANTAGE simulation software suite, this convention will automaticall be generated in the output. The TOF data should have multiple samples (taken with randomized noise), so it will have subdirectories of convention *Sample*. These files will then be prefixed with *Sample*, and suffixed with a timestamp and frame stamp.</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;#### ModularTest_4_9/ &amp; 3_25_100m/</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;This folder should have subfolders corresponding to a test number taken on that day (e.g. *Test5/*). This will then follow the general structure of a folder *Optical/*, *TOF/*, *truth.json*, and *truth_corrected.json*.</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;Optical images within the *Optical/* folder should be defined by the format *VANTAGEOPYYYYM_DD_HH_MM_SS_mmm.png*</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;TOF pointclouds within the *TOF/* folder should be defined by the format *pointcloud_YYYY_MM_DD_HH_MM_SS.mmmmmm.pcd*</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;## Configs</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;There are folders corresponding to each of the three tests used by VANTAGE, configured as *3_25_100m*, *ModularTest_4_9*, and *Simulation*. Within each of these folders will be subdirectories corresponding to individual tests run on those dates.</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;1. Modular</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;Sample folder: *Test5/*</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;2. 100m</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;Sample folder: *Test5/*</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;3. Simulation</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;Sample folder: *_030/Sample1* (for 0.30m/s)</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;Each of these folders will then contain configuration files, as described below:</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;### Deployer.json</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;VANTAGE_ROT: [Yaw, Pitch, Roll] euler angles of the deployer from its initial configuration</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;[rad]</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;PHI, XI, NABLA, RHO, P_OPTICAL, D_TOF: Sensor location parameterization variables. After moving the deployer origin to the correct position in the global coordinate frame, then move the deployer origin from the centerline to the VCF origin according to these parameters</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;defined in 13-5</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;[cm]</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;MU, BETA, SIGMA, PSI, GAMMA, L: Deployer parameterization variables</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;defined in 13-5</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;[cm]</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;TUBE_ORIGIN_COEFFS: Deployer tube origins are relative to deployer origin. Each tube contains the coefficients of the deployer parameterization variables needed to locate the tube origin. The order of the variables in each coefficient array is given as:</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;x ~ [PSI, GAMMA]</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;y ~ [MU]</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;z ~ [L]</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;CAMERA_LOC: camera location in X,Y,Z relative to the VANTAGE frame&#39;s origin</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;[cm]</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;CAMERA_ROT: camera rotation H,P,B</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;[rad]</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;FOCAL_LENGTH: Focal length in [mm]</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;APERTURE: Aperture [mm] - this is the physical sensor diameter (for a rectangular sensor)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;H_FOV: horizontal field of view [deg]</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;V_FOV: vertical field of view [deg]</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;X_Res: horizontal resolution [Pixel]</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;Y_Res: vertical resolution [Pixel]</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;Focus: Focus position (where you actually focus) [mm]</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;### Manifest.json</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;This is a sample of the file that would be delivered to the VANTAGE system by an operator of the NanoRacks deployer. It contains descriptions of the cubesats to be deployed as well as deployment geometry. It also contains the expected release time of the cubesats. Additionally, it should contain a filepath to the truth data json and the test scenario.</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;DeploymentTube: tube number from which cubesats are expected to deploy.</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;VantageTube: tube that is occupied by VANTAGE system.</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;expectedRelease: datetime array containing expected release time.</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;CubesatArray: array containing data for each cubesat to be deployed.</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  name: cubesat name.</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  </div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  rangeOrder: order in which this cubesat will exit the tube.</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  </div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  expectedU: expected cubesat size in U.</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  </div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  actualDims: the actual dimensions of the cubesat in meters.</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  </div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;TruthDataFile: filepath to truth data file (.json).</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;testScenario: test scenario being run (&#39;modular&#39;, &#39;100m&#39;, or &#39;simulation&#39;)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;### Optical.json</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;OpticalData: Directory pointing to optical images for current test</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;OpticalFileExtension: Prefix for optical image files</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;DesiredFPS: Deprecated variable for processing at a specific FPS other than sensor parameter</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;PlotBinarizedImages: Boolean for plotting images after adaptive binarization</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;PlotCentroids: Boolean for plotting centroids of objects on binarized images</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;PlotHist: Boolean for plotting visual magnitude histogram of current image</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;PlotAny: Boolean for setting on/off for plotting anything in optical processing</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;PlotCubeSats: Boolean for plotting grayscale image</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;PlotIBoundaries: Boolean for plotting boundaries on grayscale image</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;RunOcclusion: Boolean for attempting optical occlusion processing</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;PerformDataCleaning: Boolean for setting data to 0 manually as defined in &#39;Clean100m&#39; and &#39;CleanModular&#39;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;Clean100m: Pixel regions for manual data processing (100m test)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;CleanModular: Pixel regions for manual data processing (Modular test)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;### Sensors.json</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;TOFData: Directory pointing to pointclouds for current test</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;OpticalFocalLength: Focal length of optical camera (m)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;OpticalPixelSize: Pixel width of optical camera (m)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;OpticalResolution: (width,height) (pixels)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;### TOF.json</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;maxAllowableRange: Range at which to stop using data from the TOF camera (m)</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;ptMaxDistanceFromPlane: Maximum distance of any given point from a plane to be considered part of the plane (m)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;fps: Nominal fps of the TOF camera</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;HVfov_deg: [horizontal-TOF-field-of-view vertical-TOF-field-of-view] (deg)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;### Transform.json</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;V_TCF2VCF: 3D vector from origin of TOF Cartesian Frame (TCF) to VANTAGE Cartesian Frame (VCF)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;VT_DCM: 3x3 orthonormal transform matrix from TCF to VCF such that v_VCF = VT_DCM * v_TCF</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;V_CCF2VCF: 3D vector from origin of Camera Cartesian Frame (CCF) to VANTAGE Cartesian Frame (VCF)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;VC_DCM: 3x3 orthonormal transform matrix from CCF to VCF such that v_VCF = VC_DCM * v_CCF</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;### Validate.json</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;CorrelateTruthData: Whether to perform truth data corrections/timestamp alignment</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;ComputingResults: Deprecated - whether to perform results processing</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;## Tools</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;Miscellaneous tools can be found in the [MiscTools](https://github.com/DylanBossie-CU/VANTAGE/tree/master/MiscTools) directory.</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;### tofCropping</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;### PlotCubeSats</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;This tool is used to generate 3D scatter plots of the first CubeSat launched for a given test type. Output figures will then be saved to *FigureOut/*.</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;The script is currently configured to plot for three specific tests:</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;1. Simulation Test (4-15 0.85m/s)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;2. Modular Test (4-9)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;3. 100m Test (3-25)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;To configure which test is run, modify *testType (line 4)* to match one of the switch cases.</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;### truthCorrections_matGenerator</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;This tool is used to update the output *dataStruct* truth variable created in *Validate.m (line 467)* to .mat files to cooperate with the *VANTAGE.masterPlotter()* function. It will search for each of the three types of test cases in the *VANTAGE/Data/* directory, and create a *dataStruct* .mat variable which contains truth data for later processing.</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;To utilize this script, define the correct data directories in the beginning of the file which points to the location of the corrected truth data files.</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;### PlotTOFPointClouds</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;This uses the built in *pcshow()* function in MATLAB to display raw pointcloud files.</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;To utilize this script, define a directory which contains point clouds, and define the correct suffix in the *PointClouds* variable in line 13.</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;### RewriteDataStructVelocity</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;This script reads dataStruct output files, and transposes the velocity vector as needed to be processed in *masterPlotter()*.</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;### TimeManager</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;This uses date vectors and date strings to extract the time from a given TOF or Optical image filename and convert it to a global internal VANTAGE Time (number of seconds past first TOF file time), using the method *VantageTime()*.  The method *VantageTime2DateStr()* can be used to convert VANTAGE Times to consistent human-readable date strings.</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;### TOFProcessing</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;The TOF class&#39;s method, *TOFProcessing()* is a one-stop-shop for running the entire TOF suite.  In its default configuration it receives *SensorData* which contains information about where TOF point cloud files are housed as well as a *Deployer* instance.  It will proceed to identify CubeSats and their centroids in each point cloud, associate the centroids from frame to frame, and finally save all centroids to their respective *CubeSat*s.  It also produces *TOFfit_VCF*, which is used by the *CubeSat* method *evalTofFit()* to evaluate the TOF&#39;s prediction of a *CubeSat*&#39;s position at a given time.</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;## Automation</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;Contains tools for getting data from sensors and communicating with Raspberry Pi for remote boot.</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;### OpticalCam_Automation</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;Contains three tools for the optical camera. Important settings to mess with here: exposure time(associated with the ueye.is_Exposure command) and the sensor gain (for brighter images with more noise, is_SetHardwareGain command)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;#### Optical_Data_Capture.py</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;This file is used for data collection during testing. Set up to take many images at a specified interval.</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;#### Optical_Single_Frame.py</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;This file is used for capturing single frames, primarily for use in performing sensor calibrations when data needs to be taken on command. This script is called from the calibration Matlab script.</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;#### SimpleLive_Pyueye_OpenCV.py</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;Used to see a live view of the optical camera output. Useful for performing alignments, can also be useful for camera calibrations and for showing off at Symposium/Expo</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;### TOF_Automation</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;This directory contains all of the drivers and stuff for ToF. All of the scripts you need to run are in the \examples subdirectory</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;Listed below are the important ones.</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;#### TOF_Data_Capture.py</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;Main testing script, takes a certain number of frames.</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;#### image_viewer_orig.py</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;Live views of the ToF camera.</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;#### TOF_Single_Frame_Capture.py</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;Captures Single frame of the ToF camera&#39;s &quot;intensity&quot; image. This is like a normal optical image that can be used for calibration.</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;#### create_application.py</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;The ToF camera runs on an application where certain parameters are set. See the ToF manual to understand what all the parameters mean.</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;### PiComms</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;### main.m</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;Main wrapper without the automation or post processing code. The MAC Address that the sockets are opened in is the address of the external computer that VANTAGE is connected to, or the Raspberry Pi if the Raspberry Pi is still desired.</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;### socket_vantage.py</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;The code running on the Raspberry Pi. If the code is ran on the external computer that simulates NanoRacks, the Pi can be bypassed completely. Synchronizes with the main script, sends a manifest and receives the results from Vantage. MAC address the sockets are bound to is the address of the Ethernet port of the external computer.</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="_r_e_a_d_m_e_8md.html">README.md</a></li>
    <li class="footer">Generated on Mon May 6 2019 04:41:40 for VANTAGE Software by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
